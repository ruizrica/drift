# Drift Demo Project

A sample full-stack application demonstrating Drift's architectural drift detection capabilities.

## What This Demo Shows

### 1. Pattern Detection
- **API Patterns**: Consistent error handling, response formats, authentication middleware
- **Component Patterns**: React component structure, hook usage, prop patterns
- **Data Access Patterns**: Database query patterns, ORM usage
- **Error Handling**: Try-catch patterns, error boundaries

### 2. Violations (Outliers)
- Files that deviate from established patterns
- Inconsistent error handling
- Missing authentication on protected routes
- Non-standard response formats

### 3. BE↔FE Contracts
- Backend API endpoints matched with frontend API calls
- Type mismatches between what backend returns and frontend expects
- Missing fields, type differences, optionality issues

## Project Structure

```
demo/
├── backend/           # Express.js API server
│   ├── routes/        # API route handlers
│   ├── middleware/    # Auth, error handling, logging
│   ├── services/      # Business logic
│   └── utils/         # Utility functions
├── frontend/          # React application
│   ├── components/    # UI components
│   ├── hooks/         # Custom hooks
│   ├── services/      # API client calls
│   └── types/         # TypeScript types
└── .drift/            # Drift data (generated by scan)
    ├── patterns/      # Detected patterns
    ├── contracts/     # BE↔FE contracts
    └── config.json    # Drift configuration
```

## Running the Demo

```bash
# From the drift root directory
cd demo

# Start the dashboard with demo data
pnpm drift dashboard

# Or scan the demo project fresh
pnpm drift scan
pnpm drift dashboard
```

## Key Demo Scenarios

### Scenario 1: Pattern Consistency
The backend has a consistent pattern for API responses:
```typescript
// ✓ Consistent pattern (most files)
res.json({ success: true, data: result });

// ⚠️ Outlier (violates pattern)
res.send(result);  // Missing wrapper!
```

### Scenario 2: Authentication Middleware
Most protected routes use auth middleware:
```typescript
// ✓ Consistent pattern
router.get('/users', authMiddleware, getUsers);

// ⚠️ Outlier - missing auth!
router.get('/admin/stats', getAdminStats);
```

### Scenario 3: BE↔FE Type Mismatch
Backend returns fields that frontend doesn't expect:
```typescript
// Backend returns
{ id: number, name: string, createdAt: Date }

// Frontend expects
{ id: number, name: string }  // Missing createdAt!
```

## What to Highlight in Video

1. **Dashboard Overview** - Health score, pattern counts, violation summary
2. **Patterns Tab** - Grouped by category, confidence scores, locations
3. **Quick Review** - Bulk approve high-confidence patterns
4. **Violations Tab** - Group by file/pattern, severity breakdown
5. **Contracts Tab** - BE↔FE alignment, mismatch detection
6. **Copy for AI** - Generate context for AI-assisted fixes
