[framework]
name = "component-patterns"
display_name = "UI Component Patterns"
languages = ["typescript", "javascript"]

[[patterns]]
id = "COMP-STRUCTURE-CLASS-001"
category = "components"
description = "Class-based component"
sub_type = "class-component"
confidence = 0.85
[patterns.match]
extends = ["Component", "PureComponent", "React.Component", "React.PureComponent", "LitElement"]
[patterns.learn]
group_by = "sub_type"
signal = "convention"

[[patterns]]
id = "COMP-STRUCTURE-FUNC-001"
category = "components"
description = "Functional component"
sub_type = "functional-component"
confidence = 0.80
[patterns.match]
content_patterns = ["(?i)(?:const|function)\\s+[A-Z]\\w+\\s*(?:=\\s*\\(|\\().*(?:=>|\\{)"]

[[patterns]]
id = "COMP-COMPOSITION-001"
category = "components"
description = "Component composition pattern"
sub_type = "composition"
confidence = 0.80
[patterns.match]
content_patterns = [
    "(?i)\\{children\\}", "(?i)\\{props\\.children\\}",
    "(?i)React\\.cloneElement", "(?i)render[Pp]rop",
    "(?i)<slot", "(?i)\\$slots",
]
[patterns.learn]
group_by = "sub_type"
signal = "convention"

[[patterns]]
id = "COMP-PROPS-001"
category = "components"
description = "Props pattern"
sub_type = "props"
confidence = 0.80
[patterns.match]
content_patterns = [
    "(?i)interface\\s+\\w+Props\\s*\\{",
    "(?i)type\\s+\\w+Props\\s*=",
    "(?i)PropTypes\\.", "(?i)defineProps\\s*\\(",
    "(?i)@Input\\s*\\(", "(?i)@Prop\\s*\\(",
]
[patterns.learn]
group_by = "sub_type"
signal = "convention"

[[patterns]]
id = "COMP-STATE-001"
category = "components"
description = "State management pattern"
sub_type = "state"
confidence = 0.80
[patterns.match]
content_patterns = [
    "(?i)useState\\s*\\(", "(?i)useReducer\\s*\\(",
    "(?i)this\\.state\\s*=", "(?i)this\\.setState\\s*\\(",
    "(?i)ref\\s*\\(", "(?i)reactive\\s*\\(",
    "(?i)@State\\s*\\(", "(?i)writable\\s*\\(",
]
[patterns.learn]
group_by = "sub_type"
signal = "convention"

[[patterns]]
id = "COMP-REF-FORWARD-001"
category = "components"
description = "Ref forwarding"
sub_type = "refs"
confidence = 0.80
[patterns.match]
content_patterns = [
    "(?i)forwardRef\\s*\\(", "(?i)React\\.forwardRef",
    "(?i)useRef\\s*\\(", "(?i)createRef\\s*\\(",
    "(?i)useImperativeHandle\\s*\\(",
]

[[patterns]]
id = "COMP-DUPLICATE-001"
category = "components"
description = "Potential duplicate component"
sub_type = "duplication"
confidence = 0.65
[patterns.match]
content_patterns = ["(?i)(?:Button|Modal|Dialog|Card|Table|Form|Input|Select|Header|Footer|Nav|Sidebar)(?:Component)?\\s*[=:]"]
