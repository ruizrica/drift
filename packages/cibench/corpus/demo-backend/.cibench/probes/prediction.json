{
  "version": "2.0.0",
  "probes": [
    {
      "id": "predict-remove-sendSuccess",
      "scenario": "What would happen if sendSuccess() was removed from response.ts?",
      "change": {
        "type": "remove",
        "target": { "file": "src/utils/response.ts", "line": 16 },
        "description": "Remove the sendSuccess function"
      },
      "expectedPredictions": [
        {
          "effect": "Compilation errors in users.ts, products.ts, orders.ts",
          "category": "compile",
          "likelihood": "certain",
          "points": 0.3,
          "causalChain": ["sendSuccess is imported", "import would fail", "TypeScript error"]
        },
        {
          "effect": "sendCreated would also break since it calls sendSuccess",
          "category": "compile",
          "likelihood": "certain",
          "points": 0.2,
          "causalChain": ["sendCreated calls sendSuccess", "function not found"]
        },
        {
          "effect": "Legacy routes would be unaffected",
          "category": "no-effect",
          "likelihood": "certain",
          "points": 0.2
        }
      ],
      "incorrectPredictions": [
        {
          "effect": "Runtime errors only",
          "whyWrong": "TypeScript would catch this at compile time",
          "penalty": 0.2
        },
        {
          "effect": "All routes would break",
          "whyWrong": "Legacy routes don't use sendSuccess",
          "penalty": 0.15
        }
      ],
      "difficulty": "easy",
      "rubric": {
        "maxPoints": 1.0,
        "correctPredictionWeight": 0.7,
        "incorrectPredictionPenalty": 0.3,
        "causalChainBonus": 0.1,
        "overconfidencePenalty": 0.1
      }
    },
    {
      "id": "predict-change-error-format",
      "scenario": "What would happen if errorHandler changed the error response format from { success: false, error: { message, code } } to { error: message }?",
      "change": {
        "type": "modify",
        "target": { "file": "src/middleware/errorHandler.ts", "line": 19 },
        "description": "Change error response format"
      },
      "expectedPredictions": [
        {
          "effect": "API clients expecting the old format would break",
          "category": "behavior-change",
          "likelihood": "certain",
          "points": 0.3
        },
        {
          "effect": "Error code would no longer be available to clients",
          "category": "behavior-change",
          "likelihood": "certain",
          "points": 0.2
        },
        {
          "effect": "No compilation errors - this is a runtime change",
          "category": "no-effect",
          "likelihood": "certain",
          "points": 0.2
        },
        {
          "effect": "Success responses would be unaffected",
          "category": "no-effect",
          "likelihood": "certain",
          "points": 0.1
        }
      ],
      "incorrectPredictions": [
        {
          "effect": "Server would crash",
          "whyWrong": "Format change doesn't cause crashes",
          "penalty": 0.2
        },
        {
          "effect": "TypeScript compilation would fail",
          "whyWrong": "Response format isn't type-checked against a schema",
          "penalty": 0.15
        }
      ],
      "difficulty": "medium",
      "rubric": {
        "maxPoints": 1.0,
        "correctPredictionWeight": 0.7,
        "incorrectPredictionPenalty": 0.3,
        "causalChainBonus": 0.1,
        "overconfidencePenalty": 0.1
      }
    },
    {
      "id": "predict-add-auth-to-legacy",
      "scenario": "What would happen if authMiddleware was added to all legacy routes?",
      "change": {
        "type": "modify",
        "target": { "file": "src/routes/legacy.ts", "line": 17 },
        "description": "Add authMiddleware to all legacy route handlers"
      },
      "expectedPredictions": [
        {
          "effect": "Previously public legacy endpoints would require authentication",
          "category": "behavior-change",
          "likelihood": "certain",
          "points": 0.3
        },
        {
          "effect": "Unauthenticated requests would get 401 errors",
          "category": "behavior-change",
          "likelihood": "certain",
          "points": 0.2
        },
        {
          "effect": "Need to import authMiddleware at top of file",
          "category": "compile",
          "likelihood": "certain",
          "points": 0.15
        },
        {
          "effect": "Security vulnerability would be fixed",
          "category": "security-impact",
          "likelihood": "certain",
          "points": 0.15
        }
      ],
      "incorrectPredictions": [
        {
          "effect": "Other routes would be affected",
          "whyWrong": "Changes to legacy.ts don't affect other route files",
          "penalty": 0.2
        }
      ],
      "difficulty": "easy",
      "rubric": {
        "maxPoints": 1.0,
        "correctPredictionWeight": 0.7,
        "incorrectPredictionPenalty": 0.3,
        "causalChainBonus": 0.1,
        "overconfidencePenalty": 0.1
      }
    }
  ]
}
